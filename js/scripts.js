var imageGallery=function(){"use strict";function a(){if(window.console){const a={black:"%c     ",blue:"%c   ",author:"%c  Zsolt Király  ",github:"%c  https://zsoltkiraly.com/"},b={black:"background: #282c34",blue:"background: #1FC466",author:"background: black; color: white",github:""};console.log(a.black+a.blue+a.author+a.github,b.black,b.blue,b.author,b.github)}}function b(a,b,c){return c?a.querySelectorAll(""+b):a.querySelector(""+b)}function c(){document.addEventListener("keydown",function(a){var c=b(document,".body-image-gallery",!1);if(c){var d=b(c,".navigation.next",!1),e=b(c,".navigation.prev",!1),f=b(c,".icon-cancel",!1);39==a.keyCode?d.click():37==a.keyCode?e.click():27==a.keyCode&&f.click()}},!1)}function d(a){var c="";if(1==a.length&&(c="in-active"),!b(document,".body-image-gallery",!1)){var d=document.createElement("section");d.classList.add("body-image-gallery","in-active"),d.innerHTML='<div class="body-image-gallery-overlay"></div><div class="body-image-gallery-container"><div class="image-gallery-sidebar"><div class="image-gallery-close"><i class="icon-cancel"></i></div><div class="image-gallery-header"></div><div class="body-image"><div class="loading in-active"></div><img class="in-active" src=""><div class="navigation prev '+c+'"><i class="icon-left-arrow"></i></div><div class="navigation next '+c+'"><i class="icon-right-arrow"></i></div></div><div class="sidebar-container"><div class="details-toggle"><div class="counter mobile"><span class="number"></span> / <span class="number-max"></span></div><div class="details-button"><span>Részletek</span> <i class="arrow"></i></div></div><div class="toggle-wrapper"><div class="toggle-wrapper-container"><div class="sidebar-content details"><div class="image-gallery-header"></div><div class="lead"></div><div class="counter desktop"><span><span class="number"></span> / <span class="number-max"></span></span></div></div><div class="sidebar-content thumb"><div class="thumb-container"><div class="bottom"><ul></ul></div></div></div></div></div></div></div></div>',document.body.insertBefore(d,document.body.firstChild)}}function e(a,c){if(a)var d=b(a,".thumb ul",!1);var e;d&&A(c,function(a,c){e=b(c,"span",!1)?b(c,"span",!1).innerHTML:"",d.innerHTML+='<li data-image-src="'+c.getAttribute("data-image-src")+'" data-thumb-id="'+parseFloat(a+1)+'"><img src="'+b(c,"img",!1).getAttribute("src")+'" alt="'+b(c,"img",!1).alt+'" /><span>'+e+"</span></li>"})}function f(){var a;return a=window.innerHeight<window.innerWidth||90===window.orientation||-90===window.orientation?!0:!1}function g(a){f()?a.classList.add("landscape"):a.classList.remove("landscape")}function h(){window.matchMedia("(min-width: 992px)").matches?document.documentElement.clientWidth<window.innerWidth&&document.body.classList.add("overflow-hidden"):document.body.classList.add("overflow-hidden")}function i(){document.body.classList.remove("overflow-hidden")}function j(){function a(){var a=b(document,".ps__rail-x",!1),e=b(document,".ps__rail-y",!1);window.matchMedia("(min-width: 769px)").matches?(!c||a||e||(d=new PerfectScrollbar(c)),d.update()):d.destroy(),c&&(c.scrollTop=0)}var c=b(document,".body-image-gallery .thumb ul",!1),d=new PerfectScrollbar(c);a(),window.addEventListener("resize",function(){a()},!1)}function k(a){A(a,function(a,b){b.setAttribute("data-user-id",parseFloat(a+1))})}function l(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50),setTimeout(function(){h()},550))}function m(a){function c(){d.classList.remove("active"),setTimeout(function(){document.body.removeChild(d)},550),i();var c=b(a,"ul.user-image-gallery-container li.active",!1);c&&c.classList.remove("active"),document.documentElement.scrollTop=document.body.scrollTop=document.body.getAttribute("data-scroll"),document.body.removeAttribute("data-scroll")}var d=b(document,".body-image-gallery",!1),e=!0;if(d&&a){var f=b(d,".icon-cancel",!1);f.addEventListener("click",function(){e&&(c(),e=!1)},!1)}}function n(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50))}function o(a){a&&(setTimeout(function(){a.classList.remove("active")},50),setTimeout(function(){a.classList.add("in-active")},100))}function p(a,c,d){var e=b(d,"img",!1),f=b(d,"span",!1);e&&f&&(A(a,function(a,b){b.innerHTML=f.innerHTML}),c.innerHTML=e.alt)}function q(a){a.addEventListener("load",function(){var b=a.naturalWidth,c=a.naturalHeight;c>b?a.classList.add("portrait"):a.classList.remove("portrait")},!1)}function r(a,b,c,d,e){a.classList.add("in-active"),q(a),setTimeout(function(){e?d?a.setAttribute("src",c[0].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")):d?a.setAttribute("src",c[c.length-1].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")),n(b)},350),a.addEventListener("load",function(){o(b),a.classList.remove("in-active")},!1)}function s(a,c,d,e,f){if(z){z=!1,setTimeout(function(){z=!0},750);var g=b(d,"ul.user-image-gallery-container li.active",!1),h=b(e,".thumb ul li",!0),i=b(e,".counter span.number",!0),j=b(e,".image-gallery-header",!0),k=b(e,".lead",!1),l=parseFloat(g.getAttribute("data-user-id"));if(null!=l)var m=l+1;A(i,function(a,b){b.innerHTML=m}),m<=a.length?(A(a,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-user-id"))==m&&(b.classList.add("active"),r(c,f,b,!1,!0),p(j,k,b))}),A(h,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==m&&b.classList.add("active")})):(a[a.length-1].classList.remove("active"),a[0].classList.add("active"),h[h.length-1].classList.remove("active"),h[0].classList.add("active"),A(i,function(a,b){b.innerHTML="1"}),r(c,f,a,!0,!0),p(j,k,a[0]))}}function t(a,c,d,e,f){if(z){z=!1,setTimeout(function(){z=!0},750);var g=b(d,"ul.user-image-gallery-container li.active",!1),h=b(e,".thumb ul li",!0),i=b(e,".counter span.number",!0),j=b(e,".image-gallery-header",!0),k=b(e,".lead",!1),l=parseFloat(g.getAttribute("data-user-id"));if(null!=l)var m=l-1;A(i,function(a,b){b.innerHTML=m}),m>0?(A(a,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-user-id"))==m&&(b.classList.add("active"),r(c,f,b,!1,!1),p(j,k,b))}),A(h,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==m&&b.classList.add("active")})):(a[a.length-1].classList.add("active"),a[0].classList.remove("active"),h[h.length-1].classList.add("active"),h[0].classList.remove("active"),A(i,function(b,c){c.innerHTML=""+a.length}),r(c,f,a,!0,!1),p(j,k,a[a.length-1]))}}function u(a){var c=b(document,".body-image-gallery",!1);if(c){var d=b(c,".body-image",!1),e=b(d,".loading",!1),f=b(d,".body-image img",!1),g=b(c,".thumb ul li",!0),h=b(c,".image-gallery-header",!0),i=b(c,".lead",!1);A(g,function(d,j){j.addEventListener("click",function(){if(g.length>1&&z){z=!1,setTimeout(function(){z=!0},750);var d=this;A(g,function(a,b){b.classList.remove("active")}),A(a,function(a,b){b.classList.remove("active"),parseFloat(d.getAttribute("data-thumb-id"))==parseFloat(b.getAttribute("data-user-id"))&&b.classList.add("active")}),d.classList.add("active");var j=b(c,"span.number",!0);A(j,function(a,b){b.innerHTML=d.getAttribute("data-thumb-id")}),r(f,e,d,!1,!0),p(h,i,d)}},!1)})}}function v(a,c){var d=b(document,".body-image-gallery",!1);if(d){var e=b(d,".body-image",!1),f=b(e,".loading",!1),g=b(e,".body-image img",!1),h=b(d,".navigation.next",!1),i=b(d,".navigation.prev",!1);h.addEventListener("click",function(){a.length>1&&s(a,g,c,d,f)},!1),i.addEventListener("click",function(){a.length>1&&t(a,g,c,d,f)},!1);var j=0,k=0,l=0;e&&(e.addEventListener("touchstart",function(b){if(a.length>1){var c=b.changedTouches[0];j=parseInt(c.clientX)}},!1),e.addEventListener("touchend",function(b){if(a.length>1&&0==b.touches.length){var e=b.changedTouches[0],h=parseInt(e.clientX)-j;h>70?t(a,g,c,d,f):-70>h&&s(a,g,c,d,f)}},!1),window.matchMedia("(min-width: 768px)").matches&&a.length>1&&e.addEventListener("mousedown",function(b){k=b.clientX,b.preventDefault(),e.addEventListener("mouseup",function(b){l=k-b.clientX,l>100?s(a,g,c,d,f):-100>l&&t(a,g,c,d,f),b.preventDefault()},!1)},!1))}}function w(){var a=b(document,".body-image-gallery",!1);if(a){var c=b(a,".sidebar-container",!1);if(c){var d=b(c,".details-toggle .details-button",!1);d.addEventListener("click",function(){var a=b(c,".toggle-wrapper",!1),e=b(a,".toggle-wrapper-container",!1);e.classList.contains("active")?(d.classList.remove("active"),e.classList.remove("active"),setTimeout(function(){e.classList.remove("block")},250)):(e.classList.add("block"),setTimeout(function(){d.classList.add("active"),e.classList.add("active")},50))},!1)}}}function x(a,c){A(a,function(f,h){h.addEventListener("click",function(){function f(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}document.body.setAttribute("data-scroll",window.pageYOffset),k(a),d(a),m(c),v(a,c),w();var h=b(document,".body-image-gallery",!1);if(h){var i=b(h,".body-image",!1),r=b(i,".loading",!1),s=b(i,".body-image img",!1),t=b(h,".image-gallery-header",!0),x=b(h,".lead",!1);e(h,a);var y=this,z=y.getAttribute("data-image-src"),B=parseFloat(y.getAttribute("data-user-id"));y.classList.add("active");var C=b(h,".thumb ul li",!0);s.setAttribute("src",z),s.classList.remove("in-active"),q(s),n(r),s.addEventListener("load",function(){o(r)},!1),A(C,function(a,b){parseFloat(b.getAttribute("data-thumb-id"))==B&&b.classList.add("active")});var D=b(h,"span.number",!0);A(D,function(a,b){b.innerHTML=B});var E=b(h,"span.number-max",!0);A(E,function(b,c){c.innerHTML=a.length}),p(t,x,y),l(h),j(),u(a),g(h),window.addEventListener("orientationchange",function(){g(h)},!1),window.addEventListener("resize",function(){g(h)},!1)}if(f())try{for(var F in document.styleSheets){var G=document.styleSheets[F];if(G.rules)for(var H=G.rules.length-1;H>=0;H--)G.rules[H].selectorText&&G.rules[H].selectorText.match(":hover")&&G.deleteRule(H)}}catch(I){}},!1)})}function y(){var a=b(document,"#"+config.render,!1);if(a){var c=b(a,"ul.user-image-gallery-container li",!0);x(c,a)}}a();var z=!0,A=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};return{app:y,keydown:c}}();window.addEventListener("load",function(){imageGallery.keydown()},!1);