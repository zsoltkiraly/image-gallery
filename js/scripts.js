var imageGallery=function(){"use strict";function a(a,b,c){return c?a.querySelectorAll(""+b):a.querySelector(""+b)}function b(){document.addEventListener("keydown",function(b){var c=a(document,".body-image-gallery",!1);if(c){var d=a(c,".navigation.next",!1),e=a(c,".navigation.prev",!1),f=a(c,".icon-cancel",!1);39==b.keyCode?d.click():37==b.keyCode?e.click():27==b.keyCode&&f.click()}},!1)}function c(b){var c="";if(1==b.length&&(c="in-active"),!a(document,".body-image-gallery",!1)){var d=document.createElement("section");d.classList.add("body-image-gallery","in-active"),d.innerHTML='<div class="body-image-gallery-overlay"></div><div class="body-image-gallery-container"><div class="image-gallery-sidebar"><div class="image-gallery-close"><i class="icon-cancel"></i></div><div class="image-gallery-header"></div><div class="body-image"><div class="loading in-active"></div><img class="in-active" src=""><div class="navigation prev '+c+'"><i class="icon-left-arrow"></i></div><div class="navigation next '+c+'"><i class="icon-right-arrow"></i></div></div><div class="sidebar-container"><div class="details-toggle"><div class="counter mobile"><span class="number"></span> / <span class="number-max"></span></div><div class="details-button"><span>RÃ©szletek</span> <i class="arrow"></i></div></div><div class="toggle-wrapper"><div class="toggle-wrapper-container"><div class="sidebar-content details"><div class="image-gallery-header"></div><div class="lead"></div><div class="counter desktop"><span><span class="number"></span> / <span class="number-max"></span></span></div></div><div class="sidebar-content thumb"><div class="thumb-container"><div class="bottom"><ul></ul></div></div></div></div></div></div></div></div>',document.body.insertBefore(d,document.body.firstChild)}}function d(b,c){if(b)var d=a(b,".thumb ul",!1);var e;d&&z(c,function(b,c){e=a(c,"span",!1)?a(c,"span",!1).innerHTML:"",d.innerHTML+='<li data-image-src="'+c.getAttribute("data-image-src")+'" data-thumb-id="'+parseFloat(b+1)+'"><img src="'+a(c,"img",!1).getAttribute("src")+'" alt="'+a(c,"img",!1).alt+'" /><span>'+e+"</span></li>"})}function e(){var a;return a=window.innerHeight<window.innerWidth||90===window.orientation||-90===window.orientation?!0:!1}function f(a){e()?a.classList.add("landscape"):a.classList.remove("landscape")}function g(){window.matchMedia("(min-width: 992px)").matches?document.documentElement.clientWidth<window.innerWidth&&document.body.classList.add("overflow-hidden"):document.body.classList.add("overflow-hidden")}function h(){document.body.classList.remove("overflow-hidden")}function i(){function b(){var b=a(document,".ps__rail-x",!1),e=a(document,".ps__rail-y",!1);window.matchMedia("(min-width: 769px)").matches?(!c||b||e||(d=new PerfectScrollbar(c)),d.update()):d.destroy(),c&&(c.scrollTop=0)}var c=a(document,".body-image-gallery .thumb ul",!1),d=new PerfectScrollbar(c);b(),window.addEventListener("resize",function(){b()},!1)}function j(a){z(a,function(a,b){b.setAttribute("data-user-id",parseFloat(a+1))})}function k(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50),setTimeout(function(){g()},550))}function l(b){function c(){d.classList.remove("active"),setTimeout(function(){document.body.removeChild(d)},550),h();var c=a(b,"ul.user-image-gallery-container li.active",!1);c&&c.classList.remove("active"),document.documentElement.scrollTop=document.body.scrollTop=document.body.getAttribute("data-scroll"),document.body.removeAttribute("data-scroll")}var d=a(document,".body-image-gallery",!1),e=!0;if(d&&b){var f=a(d,".icon-cancel",!1);f.addEventListener("click",function(){e&&(c(),e=!1)},!1)}}function m(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50))}function n(a){a&&(setTimeout(function(){a.classList.remove("active")},50),setTimeout(function(){a.classList.add("in-active")},100))}function o(b,c,d){var e=a(d,"img",!1),f=a(d,"span",!1);e&&f&&(z(b,function(a,b){b.innerHTML=f.innerHTML}),c.innerHTML=e.alt)}function p(a){a.addEventListener("load",function(){var b=a.naturalWidth,c=a.naturalHeight;c>b?a.classList.add("portrait"):a.classList.remove("portrait")},!1)}function q(a,b,c,d,e){a.classList.add("in-active"),p(a),setTimeout(function(){e?d?a.setAttribute("src",c[0].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")):d?a.setAttribute("src",c[c.length-1].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")),m(b)},350),a.addEventListener("load",function(){n(b),a.classList.remove("in-active")},!1)}function r(b,c,d,e,f){if(y){y=!1,setTimeout(function(){y=!0},750);var g=a(d,"ul.user-image-gallery-container li.active",!1),h=a(e,".thumb ul li",!0),i=a(e,".counter span.number",!0),j=a(e,".image-gallery-header",!0),k=a(e,".lead",!1),l=parseFloat(g.getAttribute("data-user-id"));if(null!=l)var m=l+1;z(i,function(a,b){b.innerHTML=m}),m<=b.length?(z(b,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-user-id"))==m&&(b.classList.add("active"),q(c,f,b,!1,!0),o(j,k,b))}),z(h,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==m&&b.classList.add("active")})):(b[b.length-1].classList.remove("active"),b[0].classList.add("active"),h[h.length-1].classList.remove("active"),h[0].classList.add("active"),z(i,function(a,b){b.innerHTML="1"}),q(c,f,b,!0,!0),o(j,k,b[0]))}}function s(b,c,d,e,f){if(y){y=!1,setTimeout(function(){y=!0},750);var g=a(d,"ul.user-image-gallery-container li.active",!1),h=a(e,".thumb ul li",!0),i=a(e,".counter span.number",!0),j=a(e,".image-gallery-header",!0),k=a(e,".lead",!1),l=parseFloat(g.getAttribute("data-user-id"));if(null!=l)var m=l-1;z(i,function(a,b){b.innerHTML=m}),m>0?(z(b,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-user-id"))==m&&(b.classList.add("active"),q(c,f,b,!1,!1),o(j,k,b))}),z(h,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==m&&b.classList.add("active")})):(b[b.length-1].classList.add("active"),b[0].classList.remove("active"),h[h.length-1].classList.add("active"),h[0].classList.remove("active"),z(i,function(a,c){c.innerHTML=""+b.length}),q(c,f,b,!0,!1),o(j,k,b[b.length-1]))}}function t(b){var c=a(document,".body-image-gallery",!1);if(c){var d=a(c,".body-image",!1),e=a(d,".loading",!1),f=a(d,".body-image img",!1),g=a(c,".thumb ul li",!0),h=a(c,".image-gallery-header",!0),i=a(c,".lead",!1);z(g,function(d,j){j.addEventListener("click",function(){if(g.length>1&&y){y=!1,setTimeout(function(){y=!0},750);var d=this;z(g,function(a,b){b.classList.remove("active")}),z(b,function(a,b){b.classList.remove("active"),parseFloat(d.getAttribute("data-thumb-id"))==parseFloat(b.getAttribute("data-user-id"))&&b.classList.add("active")}),d.classList.add("active");var j=a(c,"span.number",!0);z(j,function(a,b){b.innerHTML=d.getAttribute("data-thumb-id")}),q(f,e,d,!1,!0),o(h,i,d)}},!1)})}}function u(b,c){var d=a(document,".body-image-gallery",!1);if(d){var e=a(d,".body-image",!1),f=a(e,".loading",!1),g=a(e,".body-image img",!1),h=a(d,".navigation.next",!1),i=a(d,".navigation.prev",!1);h.addEventListener("click",function(){b.length>1&&r(b,g,c,d,f)},!1),i.addEventListener("click",function(){b.length>1&&s(b,g,c,d,f)},!1);var j=0,k=0,l=0;e&&(e.addEventListener("touchstart",function(a){if(b.length>1){var c=a.changedTouches[0];j=parseInt(c.clientX)}},!1),e.addEventListener("touchend",function(a){if(b.length>1&&0==a.touches.length){var e=a.changedTouches[0],h=parseInt(e.clientX)-j;h>70?s(b,g,c,d,f):-70>h&&r(b,g,c,d,f)}},!1),window.matchMedia("(min-width: 768px)").matches&&b.length>1&&e.addEventListener("mousedown",function(a){k=a.clientX,a.preventDefault(),e.addEventListener("mouseup",function(a){l=k-a.clientX,l>100?r(b,g,c,d,f):-100>l&&s(b,g,c,d,f),a.preventDefault()},!1)},!1))}}function v(){var b=a(document,".body-image-gallery",!1);if(b){var c=a(b,".sidebar-container",!1);if(c){var d=a(c,".details-toggle .details-button",!1);d.addEventListener("click",function(){var b=a(c,".toggle-wrapper",!1),e=a(b,".toggle-wrapper-container",!1);e.classList.contains("active")?(d.classList.remove("active"),e.classList.remove("active"),setTimeout(function(){e.classList.remove("block")},250)):(e.classList.add("block"),setTimeout(function(){d.classList.add("active"),e.classList.add("active")},50))},!1)}}}function w(b,e){z(b,function(g,h){h.addEventListener("click",function(){function g(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}document.body.setAttribute("data-scroll",window.pageYOffset),j(b),c(b),l(e),u(b,e),v();var h=a(document,".body-image-gallery",!1);if(h){var q=a(h,".body-image",!1),r=a(q,".loading",!1),s=a(q,".body-image img",!1),w=a(h,".image-gallery-header",!0),x=a(h,".lead",!1);d(h,b);var y=this,A=y.getAttribute("data-image-src"),B=parseFloat(y.getAttribute("data-user-id"));y.classList.add("active");var C=a(h,".thumb ul li",!0);s.setAttribute("src",A),s.classList.remove("in-active"),p(s),m(r),s.addEventListener("load",function(){n(r)},!1),z(C,function(a,b){parseFloat(b.getAttribute("data-thumb-id"))==B&&b.classList.add("active")});var D=a(h,"span.number",!0);z(D,function(a,b){b.innerHTML=B});var E=a(h,"span.number-max",!0);z(E,function(a,c){c.innerHTML=b.length}),o(w,x,y),k(h),i(),t(b),f(h),window.addEventListener("orientationchange",function(){f(h)},!1),window.addEventListener("resize",function(){f(h)},!1)}if(g())try{for(var F in document.styleSheets){var G=document.styleSheets[F];if(G.rules)for(var H=G.rules.length-1;H>=0;H--)G.rules[H].selectorText&&G.rules[H].selectorText.match(":hover")&&G.deleteRule(H)}}catch(I){}},!1)})}function x(){var b=a(document,"#"+config.render,!1);if(b){var c=a(b,"ul.user-image-gallery-container li",!0);w(c,b)}}var y=!0,z=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};return{app:x,keydown:b}}();window.addEventListener("load",function(){imageGallery.keydown()},!1);