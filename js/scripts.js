var imageGallery=function(){"use strict";function a(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function b(){document.addEventListener("keydown",function(a){var b=document.querySelector(".body-image-gallery");if(b){var c=b.querySelector(".navigation.next"),d=b.querySelector(".navigation.prev"),e=b.querySelector(".icon-cancel");39==a.keyCode?c.click():37==a.keyCode?d.click():27==a.keyCode&&e.click()}},!1)}function c(a){if(!document.querySelector(".body-image-gallery")){var b=document.createElement("section");b.classList.add("body-image-gallery","in-active"),b.innerHTML='<div class="landscape"><span>Kedves felhasználó, kérjük fordíts vissza portrait nézetbe a telefont.</span></div><div class="body-image-gallery-overlay"></div><div class="body-image-gallery-container"><div class="image-gallery-sidebar"><div class="image-gallery-close"><i class="icon-cancel"></i></div><div class="image-gallery-header"></div><div class="body-image"><div class="loading in-active"></div><img class="in-active" src=""><div class="navigation prev"><i class="icon-left-arrow"></i></div><div class="navigation next"><i class="icon-right-arrow"></i></div></div><div class="sidebar-container"><div class="details-toggle"><div class="counter mobile"><span class="number"></span> / <span class="number-max"></span></div><div class="details-button"><span>Részletek</span> <i class="arrow"></i></div></div><div class="toggle-wrapper"><div class="toggle-wrapper-container"><div class="sidebar-content details"><div class="image-gallery-header"></div><div class="lead"></div><div class="counter desktop"><span><span class="number"></span> / <span class="number-max"></span></span></div></div><div class="sidebar-content thumb"><div class="thumb-container"><div class="bottom"><ul></ul></div></div></div></div></div></div></div></div>',document.body.insertBefore(b,document.body.firstChild)}}function d(a,b){if(a)var c=a.querySelector(".thumb ul");c&&B(b,function(a,b){c.innerHTML+='<li data-image-src="'+b.getAttribute("data-image-src")+'" data-thumb-id="'+parseFloat(a+1)+'"><img src="'+b.querySelector("img").getAttribute("src")+'" alt="'+b.querySelector("img").alt+'" /><span>'+b.querySelector("span").innerHTML+"</span></li>"})}function e(){return 90===window.orientation||-90===window.orientation}function f(){document.body.classList.add("overflow-hidden")}function g(){document.body.classList.remove("overflow-hidden")}function h(){function a(){var a=document.querySelector(".body-image-gallery .thumb ul"),b=document.querySelector(".ps__rail-x"),c=document.querySelector(".ps__rail-y");if(window.matchMedia("(min-width: 768px)").matches){if(a&&!b&&!c){var d=new PerfectScrollbar(a);d.update()}}else a&&b&&c&&(a.removeChild(b),a.removeChild(c));a&&(a.scrollTop=0)}a(),window.addEventListener("resize",function(){a()},!1)}function i(a){B(a,function(a,b){b.setAttribute("data-user-id",parseFloat(a+1))})}function j(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50),f())}function k(a){function b(){c.classList.remove("active"),setTimeout(function(){document.body.removeChild(c)},550),g();var b=a.querySelector("ul.user-image-gallery-container li.active");b&&b.classList.remove("active")}var c=document.querySelector(".body-image-gallery");if(c&&a){var d=c.querySelector(".icon-cancel");d.addEventListener("click",function(){b()},!1)}}function l(a){a&&(a.classList.remove("in-active"),setTimeout(function(){a.classList.add("active")},50))}function m(a){a&&(setTimeout(function(){a.classList.remove("active")},50),setTimeout(function(){a.classList.add("in-active")},100))}function n(a,b,c){var d=c.querySelector("img"),e=c.querySelector("span");d&&e&&(B(a,function(a,b){b.innerHTML=d.alt}),b.innerHTML=e.innerHTML)}function o(a,b,c,d,e){a.classList.add("in-active"),setTimeout(function(){e?d?a.setAttribute("src",c[0].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")):d?a.setAttribute("src",c[c.length-1].getAttribute("data-image-src")):a.setAttribute("src",c.getAttribute("data-image-src")),l(b)},350),a.addEventListener("load",function(){m(b),a.classList.remove("in-active")},!1)}function p(a,b,c,d,e){if(w){w=!1,setTimeout(function(){w=!0},750);var f=c.querySelector("ul.user-image-gallery-container li.active"),g=d.querySelectorAll(".thumb ul li"),h=d.querySelectorAll(".counter span.number"),i=d.querySelectorAll(".image-gallery-header"),j=d.querySelector(".lead"),k=parseFloat(f.getAttribute("data-user-id"));if(null!=k)var l=k+1;B(h,function(a,b){b.innerHTML=l}),l<=a.length?(B(a,function(a,c){c.classList.remove("active"),parseFloat(c.getAttribute("data-user-id"))==l&&(c.classList.add("active"),o(b,e,c,!1,!0),n(i,j,c))}),B(g,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==l&&b.classList.add("active")})):(a[a.length-1].classList.remove("active"),a[0].classList.add("active"),g[g.length-1].classList.remove("active"),g[0].classList.add("active"),B(h,function(a,b){b.innerHTML="1"}),o(b,e,a,!0,!0),n(i,j,a[0]))}}function q(a,b,c,d,e){if(w){w=!1,setTimeout(function(){w=!0},750);var f=c.querySelector("ul.user-image-gallery-container li.active"),g=d.querySelectorAll(".thumb ul li"),h=d.querySelectorAll(".counter span.number"),i=d.querySelectorAll(".image-gallery-header"),j=d.querySelector(".lead"),k=parseFloat(f.getAttribute("data-user-id"));if(null!=k)var l=k-1;B(h,function(a,b){b.innerHTML=l}),l>0?(B(a,function(a,c){c.classList.remove("active"),parseFloat(c.getAttribute("data-user-id"))==l&&(c.classList.add("active"),o(b,e,c,!1,!1),n(i,j,c))}),B(g,function(a,b){b.classList.remove("active"),parseFloat(b.getAttribute("data-thumb-id"))==l&&b.classList.add("active")})):(a[a.length-1].classList.add("active"),a[0].classList.remove("active"),g[g.length-1].classList.add("active"),g[0].classList.remove("active"),B(h,function(b,c){c.innerHTML=""+a.length}),o(b,e,a,!0,!1),n(i,j,a[a.length-1]))}}function r(a){var b=document.querySelector(".body-image-gallery");if(b){var c=b.querySelector(".body-image"),d=c.querySelector(".loading"),e=c.querySelector(".body-image img"),f=b.querySelectorAll(".thumb ul li"),g=b.querySelectorAll(".image-gallery-header"),h=b.querySelector(".lead");B(f,function(c,i){i.addEventListener("click",function(){if(w){w=!1,setTimeout(function(){w=!0},750);var c=this;B(f,function(a,b){b.classList.remove("active")}),B(a,function(a,b){b.classList.remove("active"),parseFloat(c.getAttribute("data-thumb-id"))==parseFloat(b.getAttribute("data-user-id"))&&b.classList.add("active")}),c.classList.add("active");var i=b.querySelectorAll("span.number");B(i,function(a,b){b.innerHTML=c.getAttribute("data-thumb-id")}),o(e,d,c,!1,!0),n(g,h,c)}},!1)})}}function s(a,b){var c=document.querySelector(".body-image-gallery");if(c){var d=c.querySelector(".body-image"),e=d.querySelector(".loading"),f=d.querySelector(".body-image img"),g=c.querySelector(".navigation.next"),h=c.querySelector(".navigation.prev");g.addEventListener("click",function(){p(a,f,b,c,e)},!1),h.addEventListener("click",function(){q(a,f,b,c,e)},!1);var i=0,j=0,k=0;d&&(d.addEventListener("touchstart",function(a){var b=a.changedTouches[0];i=parseInt(b.clientX)},!1),d.addEventListener("touchend",function(d){if(0==d.touches.length){var g=d.changedTouches[0],h=parseInt(g.clientX)-i;h>70?q(a,f,b,c,e):-70>h&&p(a,f,b,c,e)}},!1),window.matchMedia("(min-width: 768px)").matches&&d.addEventListener("mousedown",function(g){j=event.clientX,g.preventDefault(),d.addEventListener("mouseup",function(d){k=j-event.clientX,k>100?p(a,f,b,c,e):-100>k&&q(a,f,b,c,e),d.preventDefault()},!1)},!1))}}function t(){if(window.matchMedia("(max-width: 768px)").matches){var a=document.querySelector(".body-image-gallery");if(a){var b=a.querySelector(".sidebar-container");if(b){var c=b.querySelector(".details-toggle .details-button");c.addEventListener("click",function(){var a=b.querySelector(".toggle-wrapper"),d=a.querySelector(".toggle-wrapper-container");d.classList.contains("active")?(d.classList.remove("active"),c.classList.remove("active")):(d.classList.add("active"),c.classList.add("active"))},!1)}}}}function u(a,b){B(a,function(f,g){g.addEventListener("click",function(){i(a),c(a),k(b),s(a,b),t();var f=document.querySelector(".body-image-gallery");if(f){var g=f.querySelector(".body-image"),o=g.querySelector(".loading"),p=g.querySelector(".body-image img"),q=f.querySelectorAll(".image-gallery-header"),u=f.querySelector(".lead");d(f,a);var v=this,w=v.getAttribute("data-image-src"),x=parseFloat(v.getAttribute("data-user-id"));v.classList.add("active");var y=f.querySelectorAll(".thumb ul li");p.setAttribute("src",w),p.classList.remove("in-active"),l(o),p.addEventListener("load",function(){m(o)},!1),B(y,function(a,b){parseFloat(b.getAttribute("data-thumb-id"))==x&&b.classList.add("active")});var z=f.querySelectorAll("span.number");B(z,function(a,b){b.innerHTML=x});var A=f.querySelectorAll("span.number-max");B(A,function(b,c){c.innerHTML=a.length}),n(q,u,v),j(f),h(),r(a);var C=f.querySelector(".landscape");C&&(e()?C.classList.add("active"):C.classList.remove("active"),window.addEventListener("orientationchange",function(){90===window.orientation||-90===window.orientation?C.classList.add("active"):C.classList.remove("active")},!1))}},!1)})}function v(){var a=document.querySelector("#"+config.render);if(a){var b=a.querySelectorAll("ul.user-image-gallery-container li");u(b,a)}}var w=!0;if(a())try{for(var x in document.styleSheets){var y=document.styleSheets[x];if(y.rules)for(var z=y.rules.length-1;z>=0;z--)y.rules[z].selectorText&&y.rules[z].selectorText.match(":hover")&&y.deleteRule(z)}}catch(A){}var B=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};return{app:v,keydown:b}}();window.addEventListener("load",function(){imageGallery.keydown()},!1);